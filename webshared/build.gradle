import org.apache.tools.ant.filters.*

dependencies {
    compile libraries.httpclient
    compile libraries.slf4j
    compile libraries.slf4jJdk

    compile "com.vaadin:vaadin-server:$vaadinVersion"

    compile libraries.servletAPI

    compile project(":common")
    compile project(":mainapp")
    compile 'com.taskadapter:license:1'

    testCompile project(":test-utilities")

}

afterEvaluate {
    configure(allProcessResourcesTasks()) {
        filter(ReplaceTokens,
                tokens: [taskAdapterVersion: TASK_ADAPTER_VERSION])
    }
}

def allProcessResourcesTasks() {
    sourceSets*.processResourcesTaskName.collect {
        tasks[it]
    }
}
